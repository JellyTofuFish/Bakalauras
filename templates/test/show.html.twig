{% extends 'admin.html.twig' %}

{% block title %} {{ 'test.title.show'|trans }} | ETS{% endblock %}

{% block admin_right_nav %}
    <ul class="section-nav">
        <li class="toc-entry">
            <p>{{ 'side_nav.navigation'|trans }}:</p>
        </li>
        <li class="toc-entry">
            <a class="btn btn-block btn-link text-left sidebar-collapse" href="#list-general" data-target="#home" data-target-animation="#testCaret1" aria-controls="home">{{ 'general'|trans }}</a>
        </li>
        <li class="toc-entry">
            <a class="btn btn-block btn-link text-left sidebar-collapse" href="#list-activation" data-target="#activation" data-target-animation="#testCaret2" aria-controls="activation">{{ 'activation'|trans }}</a>
        </li>
        <li class="toc-entry">
            <a class="btn btn-block btn-link text-left sidebar-collapse" href="#list-questions" data-target="#questions" data-target-animation="#testCaret3" aria-controls="questions">{{ 'questions'|trans }}</a>
        </li>
        <div class="my-3"></div>
        <li class="toc-entry">
            <a href="" data-toggle="modal" data-target="#testModal{{ test.id }}Delete" class="modal-append-show badge badge-danger text-white">{{ 'poppers.delete'|trans }}</a>

            <div class="modal fade" id="testModal{{ test.id }}Delete" tabindex="-1" role="dialog" aria-labelledby="testModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="testModalLabel">{{ 'test.delete_message'|trans }}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="d-flex justify-content-between">
                                {{ include('test/_delete_form.html.twig') }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </li>
    </ul>

{% endblock %}

{% block admin_main %}
<h1>{{ 'test.title.show'|trans }}</h1>
    {% set blank = 'blank'|trans %}
    <div class="accordion">
        <div class="overflow-hidden">
            <div class="card bg-light btn-no-bottom-radius border-bottom-0">
                <div class="card-header bg-transparent p-0" id="list-general">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block text-left text-decoration-none text-dark card-collapse p-card" type="button" data-toggle="collapse" data-target="#home" aria-expanded="true" aria-controls="home">
                            <i id="testCaret1" class="fa fa-caret-down transition"></i>
                            <span class="pl-2">{{ 'general'|trans }}</span>
                        </button>
                    </h2>
                </div>
                <div id="home" class="tab-pane show " aria-labelledby="list-general list-general-list">
                    <div class="card-body">
                        <fieldset disabled>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">{{ 'test.form.test_name_label'|trans }}</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" value="{{ test.name }}">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">{{ 'test.form.description_label'|trans }}</label>
                                <div class="col-sm-10">
                                    <textarea class="form-control" >{{ test.description ? test.description : blank }}</textarea>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">{{ 'test.form.code'|trans }}</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" value="{{ test.code }}">
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>

            <div class="card bg-light btn-no-bottom-radius btn-no-top-radius border-bottom-0">
                <div class="card-header bg-transparent p-0" id="list-activation">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block text-left text-decoration-none text-dark card-collapse p-card" type="button" data-toggle="collapse" data-target="#activation" aria-expanded="false" aria-controls="activation">
                            <i id="testCaret2" class="fa fa-caret-down transition" ></i>
                            <span class="pl-2">{{ 'activation'|trans }}</span>
                        </button>
                    </h2>
                </div>
                <div id="activation" class="tab-pane collapse show" aria-labelledby="list-activation list-activation-list" >
                    <div class="card-body">
                        <fieldset disabled>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">{{ 'test.form.created_at_label'|trans }}</label>
                                <div class="col-sm-10 input-group">
                                    <input type="text" class="form-control" value="{{ test.createdAt|date('Y-m-d') }}">
                                    <div class="input-group-append" data-toggle="datetimepicker" data-target="#datetimepicker2">
                                        <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">{{ 'test.form.test_start_label'|trans }}</label>
                                <div class="col-sm-10 input-group">
                                    <input type="text" class="form-control" value="{% if test.testStart %}{{ test.testStart|date('Y-m-d H:i:s')}}{% else %}{{ blank}}{% endif %}">
                                    <div class="input-group-append" data-toggle="datetimepicker" data-target="#datetimepicker2">
                                        <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row date">
                                <label class="col-sm-2 col-form-label">{{ 'test.form.test_end_label'|trans }}</label>
                                <div class="col-sm-10 input-group">
                                    <input type="text" class="form-control " value="{% if test.testEnd %}{{ test.testEnd|date('Y-m-d H:i:s')}}{% else %}{{ blank|raw }}{% endif %}">
                                    <div class="input-group-append" data-toggle="datetimepicker" data-target="#datetimepicker2">
                                        <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-form-label col-sm-2">{{ 'test.form.is_active_label'|trans }}</label>
                                <div class="col-sm-10 my-2 pl-5 custom-control custom-switch">
                                    <input type="checkbox" id="{{ test.id }}Switch" class="custom-control-input" disabled {{ test.isActive ? 'checked' : "" }} >
                                    <label class="custom-control-label" for="{{ test.id }}Switch">{{ test.isActive ? 'test.active'|trans : 'test.inactive'|trans }}</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>

            <div class="card bg-light btn-no-top-radius ">
                <div class="card-header bg-transparent p-0" id="list-questions">
                    <h2 class="mb-0">
                        {% if questions is not empty %}
                            <button class="btn btn-link btn-block text-left collapsed text-decoration-none text-dark card-collapse p-card" type="button" data-toggle="collapse" data-target="#questions" aria-expanded="false" aria-controls="questions">
                                <i id="testCaret3" class="fa fa-caret-down transition " ></i>
                                <span class="pl-2">{{ 'questions'|trans }}</span>
                            </button>
                        {% else %}
                            <button class="btn btn-link btn-block text-left text-decoration-none text-dark p-card" type="button" data-toggle="none" data-target="#answers" aria-expanded="false" aria-controls="answers">
                                <i id="testCaret3" class=" disabled-menu fa fa-caret-down transition" ></i>
                                <span class="disabled-menu pl-2">{{ 'questions'|trans }}</span>
                            </button>
                        {% endif %}
                    </h2>
                </div>
                {% if questions is not empty %}
                <div id="questions" class="tab-pane collapse show" aria-labelledby="list-questions list-questions-list" >
                {% else %}
                <div id="questions" class="tab-pane collapse" aria-labelledby="list-questions list-questions-list" >
                {% endif %}
                    <div class="card-body">
                        <fieldset disabled>
                            {% set anwerNumeber = 0 %}
                            {% for q in questions %}
                                <div class="form-group row">
                                    <label class="col-sm-2 col-form-label">{{ 'test.form.test_question_label'|trans }} {{ anwerNumeber +1 }}</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" value="{{ q.question_name }}">
                                    </div>
                                </div>
                                {% set anwerNumeber = anwerNumeber +1 %}
                            {% endfor %}
                        </fieldset>
                    </div>
                </div>
            </div>

        </div>
    </div>
{% endblock %}
